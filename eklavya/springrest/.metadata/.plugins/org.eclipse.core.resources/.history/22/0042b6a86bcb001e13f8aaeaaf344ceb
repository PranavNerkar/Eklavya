package com.example.demo.Service;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import java.util.List;

import com.example.demo.Entities.Student;
import com.example.demo.Entities.Category;
import com.example.demo.Entities.Course;
import com.example.demo.Entities.Feedback;
import com.example.demo.Entities.Tutor;
import com.example.demo.Repository.CategoryRepository;
import com.example.demo.Repository.CourseRepository;
import com.example.demo.Repository.FeedbackRepository;
import com.example.demo.Repository.StudentRepo;
import com.example.demo.Repository.TutorRepo;

@Service
public class StudentService {

    @Autowired
    private StudentRepo studentRepo; // Corrected variable name

    @Autowired
    private CategoryRepository categoryRepository;

    @Autowired
    private CourseRepository courseRepository;

    @Autowired
    private TutorRepo tutorRepository; // Corrected repository interface name

    @Autowired
    private FeedbackRepository feedbackRepository;

    public int save(Student s) {
        return studentRepo.save(s).getStu_id(); // Using studentRepo instead of sr
    }

    public List<Category> getAllCategoriesByStudentId(int studentId) {
        // Implement logic to fetch categories based on student's ID
        return categoryRepository.findAllByStudentId(studentId);
    }

    public List<Course> getAllCoursesByStudentId(int studentId) {
        // Implement logic to fetch courses based on student's ID
        return courseRepository.findAllByStudentId(studentId);
    }

    public List<Tutor> getAllTutorsByStudentId(int studentId) {
        // Implement logic to fetch tutors based on student's ID
        return tutorRepository.findAllByStudentId(studentId);
    }

    public List<Feedback> getAllFeedbackByStudentId(int studentId) {
        // Implement logic to fetch feedback based on student's ID
        return feedbackRepository.findAllByStudentId(studentId);
   }